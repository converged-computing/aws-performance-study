unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[15:09:16] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[15:09:18] Start indicator found. Proceeding with monitoring.
[15:09:18] Initializing eBPF for CPU Scheduling monitoring...
[15:09:18] BPF C code compiled and loaded.
[15:09:18] Attached tracepoints.
[15:09:18] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[15:09:21] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[15:09:21] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 88881,
      "on_cpu_stats_ns": {
        "count": 8.0,
        "sum_ns": 23299331.855072465,
        "mean_ns": 2912416.481884058,
        "median_ns": 1074448.4601449275,
        "min_ns": 738540.5217391305,
        "max_ns": 15360853.0,
        "variance_ns2": 25415299346920.082,
        "iqr_ns": 548813.0235507247,
        "q1_ns": 871966.643115942,
        "q3_ns": 1420779.6666666667
      },
      "runq_latency_stats_ns": {
        "count": 7.0,
        "sum_ns": 49674.925,
        "mean_ns": 7096.417857142857,
        "median_ns": 3460.0,
        "min_ns": 1960.0,
        "max_ns": 25249.425,
        "variance_ns2": 68826551.37639882,
        "iqr_ns": 2151.666666666666,
        "q1_ns": 3225.0,
        "q3_ns": 5376.666666666666
      },
      "first_seen_ts_ns": 1749740959287831172,
      "last_seen_ts_ns": 1749740961598287544,
      "duration_active_s": 2.310456372
    },
    {
      "tgid": 202,
      "comm": "python3",
      "cgroup_id": 89091,
      "on_cpu_stats_ns": {
        "count": 89.0,
        "sum_ns": 6556875.603219697,
        "mean_ns": 73672.75958673818,
        "median_ns": 20617.561210967564,
        "min_ns": 4355.5,
        "max_ns": 723304.0,
        "variance_ns2": 16079223277.801098,
        "iqr_ns": 65450.243039235014,
        "q1_ns": 15942.678597774539,
        "q3_ns": 81392.92163700955
      },
      "runq_latency_stats_ns": {
        "count": 89.0,
        "sum_ns": 3745834.4308712124,
        "mean_ns": 42088.02731315969,
        "median_ns": 13922.095908238642,
        "min_ns": 1671.0,
        "max_ns": 656350.0,
        "variance_ns2": 11702375622.672218,
        "iqr_ns": 45415.106386609994,
        "q1_ns": 4049.20352327887,
        "q3_ns": 49464.30990988886
      },
      "first_seen_ts_ns": 1749740958635107960,
      "last_seen_ts_ns": 1749740961598287544,
      "duration_active_s": 2.963179584
    },
    {
      "tgid": 266,
      "comm": "python3",
      "cgroup_id": 89161,
      "on_cpu_stats_ns": {
        "count": 59.0,
        "sum_ns": 3710587.820075758,
        "mean_ns": 62891.31898433488,
        "median_ns": 26537.172030424048,
        "min_ns": 4800.666666666667,
        "max_ns": 791498.0,
        "variance_ns2": 20802734463.23018,
        "iqr_ns": 20005.067164961893,
        "q1_ns": 16578.749767091704,
        "q3_ns": 36583.816932053596
      },
      "runq_latency_stats_ns": {
        "count": 58.0,
        "sum_ns": 600775.7604166666,
        "mean_ns": 10358.202765804597,
        "median_ns": 6794.489251452641,
        "min_ns": 1821.0,
        "max_ns": 32562.0,
        "variance_ns2": 83538325.93893373,
        "iqr_ns": 13928.206269402373,
        "q1_ns": 3218.694794212992,
        "q3_ns": 17146.901063615365
      },
      "first_seen_ts_ns": 1749740958528295733,
      "last_seen_ts_ns": 1749740961493011730,
      "duration_active_s": 2.964715997
    },
    {
      "tgid": 143,
      "comm": "flux-broker-0",
      "cgroup_id": 89231,
      "on_cpu_stats_ns": {
        "count": 20.0,
        "sum_ns": 2240980.75,
        "mean_ns": 112049.0375,
        "median_ns": 22561.219388888883,
        "min_ns": 7450.0,
        "max_ns": 1041763.0,
        "variance_ns2": 56124417379.83076,
        "iqr_ns": 111165.2624607684,
        "q1_ns": 16440.25,
        "q3_ns": 127605.5124607684
      },
      "runq_latency_stats_ns": {
        "count": 20.0,
        "sum_ns": 4771076.562499999,
        "mean_ns": 238553.82812499994,
        "median_ns": 6776.61222048611,
        "min_ns": 1700.0,
        "max_ns": 4386041.5,
        "variance_ns2": 954424848081.1599,
        "iqr_ns": 308905.7492476414,
        "q1_ns": 3521.4463305898494,
        "q3_ns": 312427.19557823124
      },
      "first_seen_ts_ns": 1749740958743982752,
      "last_seen_ts_ns": 1749740961281251389,
      "duration_active_s": 2.537268637
    },
    {
      "tgid": 394,
      "comm": "xhpcg",
      "cgroup_id": 89231,
      "on_cpu_stats_ns": {
        "count": 4.0,
        "sum_ns": 99644.25614035087,
        "mean_ns": 24911.06403508772,
        "median_ns": 30732.0,
        "min_ns": 13269.122807017544,
        "max_ns": 39030.333333333336,
        "variance_ns2": 145877680.859287,
        "iqr_ns": 22417.533333333336,
        "q1_ns": 16612.8,
        "q3_ns": 39030.333333333336
      },
      "runq_latency_stats_ns": {
        "count": 4.0,
        "sum_ns": 9648.929824561403,
        "mean_ns": 2412.2324561403507,
        "median_ns": 2472.0,
        "min_ns": 1584.0,
        "max_ns": 3872.9298245614036,
        "variance_ns2": 1100787.9120498616,
        "iqr_ns": 2152.9298245614036,
        "q1_ns": 1720.0,
        "q3_ns": 3872.9298245614036
      },
      "first_seen_ts_ns": 1749740959179291190,
      "last_seen_ts_ns": 1749740960865806638,
      "duration_active_s": 1.686515448
    },
    {
      "tgid": 340,
      "comm": "xhpcg",
      "cgroup_id": 89231,
      "on_cpu_stats_ns": {
        "count": 4.0,
        "sum_ns": 58753.0,
        "mean_ns": 14688.25,
        "median_ns": 15420.0,
        "min_ns": 11361.0,
        "max_ns": 17381.0,
        "variance_ns2": 6288803.583333335,
        "iqr_ns": 2790.0,
        "q1_ns": 14591.0,
        "q3_ns": 17381.0
      },
      "runq_latency_stats_ns": {
        "count": 4.0,
        "sum_ns": 34203.0,
        "mean_ns": 8550.75,
        "median_ns": 9511.0,
        "min_ns": 4320.0,
        "max_ns": 11641.0,
        "variance_ns2": 9467820.25,
        "iqr_ns": 2910.0,
        "q1_ns": 8731.0,
        "q3_ns": 11641.0
      },
      "first_seen_ts_ns": 1749740959287831172,
      "last_seen_ts_ns": 1749740960865806638,
      "duration_active_s": 1.577975466
    },
    {
      "tgid": 382,
      "comm": "xhpcg",
      "cgroup_id": 89231,
      "on_cpu_stats_ns": {
        "count": 4.0,
        "sum_ns": 55682.0,
        "mean_ns": 13920.5,
        "median_ns": 14041.0,
        "min_ns": 10420.0,
        "max_ns": 18691.0,
        "variance_ns2": 12319727.000000002,
        "iqr_ns": 6161.0,
        "q1_ns": 12530.0,
        "q3_ns": 18691.0
      },
      "runq_latency_stats_ns": {
        "count": 4.0,
        "sum_ns": 20931.0,
        "mean_ns": 5232.75,
        "median_ns": 6741.0,
        "min_ns": 2450.0,
        "max_ns": 6760.0,
        "variance_ns2": 4138296.9166666665,
        "iqr_ns": 1780.0,
        "q1_ns": 4980.0,
        "q3_ns": 6760.0
      },
      "first_seen_ts_ns": 1749740959406745514,
      "last_seen_ts_ns": 1749740960970863939,
      "duration_active_s": 1.564118425
    },
    {
      "tgid": 332,
      "comm": "flux-job",
      "cgroup_id": 89231,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 27888.93548387097,
        "mean_ns": 13944.467741935485,
        "median_ns": 19682.0,
        "min_ns": 8206.935483870968,
        "max_ns": 19682.0,
        "variance_ns2": 65838552.82466182,
        "iqr_ns": 11475.064516129032,
        "q1_ns": 8206.935483870968,
        "q3_ns": 19682.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 5741.032258064516,
        "mean_ns": 2870.516129032258,
        "median_ns": 2941.032258064516,
        "min_ns": 2800.0,
        "max_ns": 2941.032258064516,
        "variance_ns2": 9945.048907388133,
        "iqr_ns": 141.0322580645161,
        "q1_ns": 2800.0,
        "q3_ns": 2941.032258064516
      },
      "first_seen_ts_ns": 1749740958528295733,
      "last_seen_ts_ns": 1749740958743982752,
      "duration_active_s": 0.215687019
    },
    {
      "tgid": 31,
      "comm": "bash",
      "cgroup_id": 89091,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 26183.75,
        "mean_ns": 13091.875,
        "median_ns": 15471.0,
        "min_ns": 10712.75,
        "max_ns": 15471.0,
        "variance_ns2": 11320471.53125,
        "iqr_ns": 4758.25,
        "q1_ns": 10712.75,
        "q3_ns": 15471.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 15719.96875,
        "mean_ns": 7859.984375,
        "median_ns": 12751.0,
        "min_ns": 2968.96875,
        "max_ns": 12751.0,
        "variance_ns2": 47844067.68798828,
        "iqr_ns": 9782.03125,
        "q1_ns": 2968.96875,
        "q3_ns": 12751.0
      },
      "first_seen_ts_ns": 1749740958743982752,
      "last_seen_ts_ns": 1749740961281251389,
      "duration_active_s": 2.537268637
    },
    {
      "tgid": 197,
      "comm": "bash",
      "cgroup_id": 89231,
      "on_cpu_stats_ns": {
        "count": 1.0,
        "sum_ns": 14782.545454545454,
        "mean_ns": 14782.545454545454,
        "median_ns": 14782.545454545454,
        "min_ns": 14782.545454545454,
        "max_ns": 14782.545454545454,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 14782.545454545454,
        "q3_ns": 14782.545454545454
      },
      "runq_latency_stats_ns": {
        "count": 1.0,
        "sum_ns": 2869.909090909091,
        "mean_ns": 2869.909090909091,
        "median_ns": 2869.909090909091,
        "min_ns": 2869.909090909091,
        "max_ns": 2869.909090909091,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 2869.909090909091,
        "q3_ns": 2869.909090909091
      },
      "first_seen_ts_ns": 1749740958743982752,
      "last_seen_ts_ns": 1749740958743982752,
      "duration_active_s": 0
    }
  ]
}
[15:09:21] Cleanup complete. Exiting.
