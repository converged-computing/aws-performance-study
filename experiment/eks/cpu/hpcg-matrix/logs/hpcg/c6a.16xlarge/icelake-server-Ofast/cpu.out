unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[13:18:36] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[13:18:37] Start indicator found. Proceeding with monitoring.
[13:18:37] Initializing eBPF for CPU Scheduling monitoring...
[13:18:37] BPF C code compiled and loaded.
[13:18:37] Attached tracepoints.
[13:18:37] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[13:18:41] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[13:18:41] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 35366,
      "on_cpu_stats_ns": {
        "count": 11.0,
        "sum_ns": 24776930.259259257,
        "mean_ns": 2252448.2053872054,
        "median_ns": 1008101.5925925926,
        "min_ns": 598175.5,
        "max_ns": 15278730.0,
        "variance_ns2": 18763240518892.49,
        "iqr_ns": 1155032.2988683125,
        "q1_ns": 762594.1006944445,
        "q3_ns": 1917626.399562757
      },
      "runq_latency_stats_ns": {
        "count": 11.0,
        "sum_ns": 47947.1,
        "mean_ns": 4358.827272727272,
        "median_ns": 3825.883333333334,
        "min_ns": 1800.0,
        "max_ns": 9620.0,
        "variance_ns2": 4400621.588181819,
        "iqr_ns": 1691.9770833333332,
        "q1_ns": 3190.622916666667,
        "q3_ns": 4882.6
      },
      "first_seen_ts_ns": 1749734318713150834,
      "last_seen_ts_ns": 1749734321076372624,
      "duration_active_s": 2.36322179
    },
    {
      "tgid": 267,
      "comm": "python3",
      "cgroup_id": 35646,
      "on_cpu_stats_ns": {
        "count": 54.0,
        "sum_ns": 4409923.568371211,
        "mean_ns": 81665.25126613353,
        "median_ns": 35170.37661106813,
        "min_ns": 3756.2,
        "max_ns": 1058563.0,
        "variance_ns2": 26774817471.702282,
        "iqr_ns": 84815.10370771559,
        "q1_ns": 15186.755901952263,
        "q3_ns": 100001.85960966785
      },
      "runq_latency_stats_ns": {
        "count": 54.0,
        "sum_ns": 1712893.9272727272,
        "mean_ns": 31720.257912457913,
        "median_ns": 6107.098672423418,
        "min_ns": 1590.0,
        "max_ns": 765715.0,
        "variance_ns2": 14383585995.230362,
        "iqr_ns": 18092.180202624088,
        "q1_ns": 4012.024842368144,
        "q3_ns": 22104.20504499223
      },
      "first_seen_ts_ns": 1749734318209343969,
      "last_seen_ts_ns": 1749734320972137174,
      "duration_active_s": 2.762793205
    },
    {
      "tgid": 203,
      "comm": "python3",
      "cgroup_id": 35576,
      "on_cpu_stats_ns": {
        "count": 52.0,
        "sum_ns": 3646117.6950757583,
        "mean_ns": 70117.64798222612,
        "median_ns": 24784.140466295517,
        "min_ns": 4555.25,
        "max_ns": 885753.0,
        "variance_ns2": 23362792942.571587,
        "iqr_ns": 54462.60033934063,
        "q1_ns": 11387.131916647688,
        "q3_ns": 65849.73225598832
      },
      "runq_latency_stats_ns": {
        "count": 52.0,
        "sum_ns": 1548055.8323863642,
        "mean_ns": 29770.30446896854,
        "median_ns": 4580.482868960938,
        "min_ns": 1580.0,
        "max_ns": 617787.0,
        "variance_ns2": 9941014632.671944,
        "iqr_ns": 5111.467270658557,
        "q1_ns": 2734.1517472844093,
        "q3_ns": 7845.619017942966
      },
      "first_seen_ts_ns": 1749734318102047896,
      "last_seen_ts_ns": 1749734321076372624,
      "duration_active_s": 2.974324728
    },
    {
      "tgid": 144,
      "comm": "flux-broker-0",
      "cgroup_id": 35716,
      "on_cpu_stats_ns": {
        "count": 15.0,
        "sum_ns": 497568.6979166668,
        "mean_ns": 33171.24652777779,
        "median_ns": 20367.646649654325,
        "min_ns": 5003.666666666667,
        "max_ns": 101046.0,
        "variance_ns2": 988406588.2577609,
        "iqr_ns": 30302.742443601855,
        "q1_ns": 10083.21875,
        "q3_ns": 40385.961193601855
      },
      "runq_latency_stats_ns": {
        "count": 15.0,
        "sum_ns": 57616.91666666666,
        "mean_ns": 3841.1277777777773,
        "median_ns": 3067.3654220015915,
        "min_ns": 2320.0,
        "max_ns": 12041.0,
        "variance_ns2": 6474858.203147736,
        "iqr_ns": 806.4145396924059,
        "q1_ns": 2744.84375,
        "q3_ns": 3551.258289692406
      },
      "first_seen_ts_ns": 1749734318102047896,
      "last_seen_ts_ns": 1749734320764119461,
      "duration_active_s": 2.662071565
    },
    {
      "tgid": 333,
      "comm": "flux-job",
      "cgroup_id": 35716,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 210423.0,
        "mean_ns": 105211.5,
        "median_ns": 117317.0,
        "min_ns": 93106.0,
        "max_ns": 117317.0,
        "variance_ns2": 293086260.5,
        "iqr_ns": 24211.0,
        "q1_ns": 93106.0,
        "q3_ns": 117317.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 53682.0,
        "mean_ns": 26841.0,
        "median_ns": 27071.0,
        "min_ns": 26611.0,
        "max_ns": 27071.0,
        "variance_ns2": 105800.0,
        "iqr_ns": 460.0,
        "q1_ns": 26611.0,
        "q3_ns": 27071.0
      },
      "first_seen_ts_ns": 1749734318209343969,
      "last_seen_ts_ns": 1749734318322830720,
      "duration_active_s": 0.113486751
    },
    {
      "tgid": 356,
      "comm": "xhpcg",
      "cgroup_id": 35716,
      "on_cpu_stats_ns": {
        "count": 8.0,
        "sum_ns": 182733.375,
        "mean_ns": 22841.671875,
        "median_ns": 12039.944444444445,
        "min_ns": 6351.625,
        "max_ns": 98159.33333333333,
        "variance_ns2": 1006554578.4808719,
        "iqr_ns": 8764.888888888887,
        "q1_ns": 7470.375,
        "q3_ns": 16235.263888888887
      },
      "runq_latency_stats_ns": {
        "count": 8.0,
        "sum_ns": 33067.84523809524,
        "mean_ns": 4133.480654761905,
        "median_ns": 4080.0520833333335,
        "min_ns": 1635.0,
        "max_ns": 8025.5,
        "variance_ns2": 3534436.757458192,
        "iqr_ns": 123.77083333333394,
        "q1_ns": 4052.875,
        "q3_ns": 4176.645833333334
      },
      "first_seen_ts_ns": 1749734318713150834,
      "last_seen_ts_ns": 1749734320972137174,
      "duration_active_s": 2.25898634
    },
    {
      "tgid": 390,
      "comm": "xhpcg",
      "cgroup_id": 35716,
      "on_cpu_stats_ns": {
        "count": 4.0,
        "sum_ns": 56364.0,
        "mean_ns": 14091.0,
        "median_ns": 14911.0,
        "min_ns": 10661.0,
        "max_ns": 19451.0,
        "variance_ns2": 16243133.333333334,
        "iqr_ns": 8110.0,
        "q1_ns": 11341.0,
        "q3_ns": 19451.0
      },
      "runq_latency_stats_ns": {
        "count": 4.0,
        "sum_ns": 34701.0,
        "mean_ns": 8675.25,
        "median_ns": 9050.0,
        "min_ns": 4500.0,
        "max_ns": 12371.0,
        "variance_ns2": 10414230.25,
        "iqr_ns": 3591.0,
        "q1_ns": 8780.0,
        "q3_ns": 12371.0
      },
      "first_seen_ts_ns": 1749734318976737406,
      "last_seen_ts_ns": 1749734320553802222,
      "duration_active_s": 1.577064816
    },
    {
      "tgid": 31,
      "comm": "bash",
      "cgroup_id": 35576,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 29747.03125,
        "mean_ns": 14873.515625,
        "median_ns": 21491.0,
        "min_ns": 8256.03125,
        "max_ns": 21491.0,
        "variance_ns2": 87582198.90673828,
        "iqr_ns": 13234.96875,
        "q1_ns": 8256.03125,
        "q3_ns": 21491.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 5695.5625,
        "mean_ns": 2847.78125,
        "median_ns": 3140.0,
        "min_ns": 2555.5625,
        "max_ns": 3140.0,
        "variance_ns2": 170783.595703125,
        "iqr_ns": 584.4375,
        "q1_ns": 2555.5625,
        "q3_ns": 3140.0
      },
      "first_seen_ts_ns": 1749734318209343969,
      "last_seen_ts_ns": 1749734318322830720,
      "duration_active_s": 0.113486751
    },
    {
      "tgid": 66,
      "comm": "bash",
      "cgroup_id": 35716,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 19656.272727272728,
        "mean_ns": 9828.136363636364,
        "median_ns": 11441.0,
        "min_ns": 8215.272727272728,
        "max_ns": 11441.0,
        "variance_ns2": 5202658.219008262,
        "iqr_ns": 3225.727272727272,
        "q1_ns": 8215.272727272728,
        "q3_ns": 11441.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 4875.242424242424,
        "mean_ns": 2437.621212121212,
        "median_ns": 2740.0,
        "min_ns": 2135.242424242424,
        "max_ns": 2740.0,
        "variance_ns2": 182865.86271809012,
        "iqr_ns": 604.757575757576,
        "q1_ns": 2135.242424242424,
        "q3_ns": 2740.0
      },
      "first_seen_ts_ns": 1749734318102047896,
      "last_seen_ts_ns": 1749734318209343969,
      "duration_active_s": 0.107296073
    }
  ]
}
[13:18:41] Cleanup complete. Exiting.
