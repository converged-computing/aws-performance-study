unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[15:37:37] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[15:37:43] Start indicator found. Proceeding with monitoring.
[15:37:43] Initializing eBPF for CPU Scheduling monitoring...
[15:37:43] BPF C code compiled and loaded.
[15:37:43] Attached tracepoints.
[15:37:43] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[15:37:47] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[15:37:47] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 100393,
      "on_cpu_stats_ns": {
        "count": 10.0,
        "sum_ns": 23533054.969230775,
        "mean_ns": 2353305.4969230774,
        "median_ns": 885134.0,
        "min_ns": 471576.6,
        "max_ns": 15132588.0,
        "variance_ns2": 20316265807401.848,
        "iqr_ns": 2152619.8402777775,
        "q1_ns": 532467.9375,
        "q3_ns": 2685087.7777777775
      },
      "runq_latency_stats_ns": {
        "count": 10.0,
        "sum_ns": 33407.75,
        "mean_ns": 3340.775,
        "median_ns": 2972.510802469136,
        "min_ns": 1550.0,
        "max_ns": 5560.5,
        "variance_ns2": 2291474.0618055556,
        "iqr_ns": 1579.1615226337444,
        "q1_ns": 1980.0,
        "q3_ns": 3559.1615226337444
      },
      "first_seen_ts_ns": 1749742664708224238,
      "last_seen_ts_ns": 1749742667050244315,
      "duration_active_s": 2.342020077
    },
    {
      "tgid": 261,
      "comm": "python3",
      "cgroup_id": 100673,
      "on_cpu_stats_ns": {
        "count": 82.0,
        "sum_ns": 7973864.765530303,
        "mean_ns": 97242.25323817442,
        "median_ns": 34255.06824325158,
        "min_ns": 4310.0,
        "max_ns": 1507003.0,
        "variance_ns2": 46742240425.88345,
        "iqr_ns": 102402.98777983378,
        "q1_ns": 14243.813394277424,
        "q3_ns": 116646.80117411121
      },
      "runq_latency_stats_ns": {
        "count": 82.0,
        "sum_ns": 1672044.2685606056,
        "mean_ns": 20390.783762934214,
        "median_ns": 7804.83643256275,
        "min_ns": 1570.0,
        "max_ns": 466244.0,
        "variance_ns2": 3094653478.49017,
        "iqr_ns": 23155.879145154562,
        "q1_ns": 3678.1760539558854,
        "q3_ns": 26834.055199110448
      },
      "first_seen_ts_ns": 1749742663948066211,
      "last_seen_ts_ns": 1749742667050244315,
      "duration_active_s": 3.102178104
    },
    {
      "tgid": 145,
      "comm": "python3",
      "cgroup_id": 100603,
      "on_cpu_stats_ns": {
        "count": 77.0,
        "sum_ns": 4834086.705492425,
        "mean_ns": 62780.34682457695,
        "median_ns": 23753.543643661913,
        "min_ns": 5280.333333333333,
        "max_ns": 822625.5,
        "variance_ns2": 20203337810.923016,
        "iqr_ns": 28839.876840747093,
        "q1_ns": 14134.407529541584,
        "q3_ns": 42974.284370288675
      },
      "runq_latency_stats_ns": {
        "count": 77.0,
        "sum_ns": 12042843.970643941,
        "mean_ns": 156400.5710473239,
        "median_ns": 3958.0791751688976,
        "min_ns": 1820.0,
        "max_ns": 9592793.0,
        "variance_ns2": 1216824333562.8562,
        "iqr_ns": 13260.186580686644,
        "q1_ns": 3105.0006449701823,
        "q3_ns": 16365.187225656826
      },
      "first_seen_ts_ns": 1749742663948066211,
      "last_seen_ts_ns": 1749742667050244315,
      "duration_active_s": 3.102178104
    },
    {
      "tgid": 119,
      "comm": "flux-broker-0",
      "cgroup_id": 100743,
      "on_cpu_stats_ns": {
        "count": 24.0,
        "sum_ns": 2006561.4223484849,
        "mean_ns": 83606.72593118687,
        "median_ns": 20448.03636565619,
        "min_ns": 7100.0,
        "max_ns": 894395.0,
        "variance_ns2": 38812648330.984314,
        "iqr_ns": 27756.344347610768,
        "q1_ns": 12734.102629699777,
        "q3_ns": 40490.446977310545
      },
      "runq_latency_stats_ns": {
        "count": 24.0,
        "sum_ns": 233972.32765151514,
        "mean_ns": 9748.846985479797,
        "median_ns": 3931.121828050588,
        "min_ns": 1370.0,
        "max_ns": 116778.0,
        "variance_ns2": 530578575.37637055,
        "iqr_ns": 4159.251485155198,
        "q1_ns": 2998.070464338175,
        "q3_ns": 7157.321949493373
      },
      "first_seen_ts_ns": 1749742663948066211,
      "last_seen_ts_ns": 1749742666317061021,
      "duration_active_s": 2.36899481
    },
    {
      "tgid": 333,
      "comm": "python3",
      "cgroup_id": 100743,
      "on_cpu_stats_ns": {
        "count": 7.0,
        "sum_ns": 481514.0,
        "mean_ns": 68787.71428571429,
        "median_ns": 55273.0,
        "min_ns": 23491.0,
        "max_ns": 135108.0,
        "variance_ns2": 2040140001.988095,
        "iqr_ns": 49740.888888888876,
        "q1_ns": 33072.16666666667,
        "q3_ns": 82813.05555555555
      },
      "runq_latency_stats_ns": {
        "count": 7.0,
        "sum_ns": 155978.0,
        "mean_ns": 22282.571428571428,
        "median_ns": 25051.333333333336,
        "min_ns": 3740.0,
        "max_ns": 58549.0,
        "variance_ns2": 499333697.9523809,
        "iqr_ns": 21027.65625,
        "q1_ns": 15364.343750000002,
        "q3_ns": 36392.0
      },
      "first_seen_ts_ns": 1749742664058778762,
      "last_seen_ts_ns": 1749742667050244315,
      "duration_active_s": 2.991465553
    },
    {
      "tgid": 31,
      "comm": "bash",
      "cgroup_id": 100603,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 27240.060606060608,
        "mean_ns": 13620.030303030304,
        "median_ns": 19641.0,
        "min_ns": 7599.060606060606,
        "max_ns": 19641.0,
        "variance_ns2": 72504152.18365473,
        "iqr_ns": 12041.939393939394,
        "q1_ns": 7599.060606060606,
        "q3_ns": 19641.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 11167.848484848484,
        "mean_ns": 5583.924242424242,
        "median_ns": 8461.0,
        "min_ns": 2706.848484848485,
        "max_ns": 8461.0,
        "variance_ns2": 16555129.82966024,
        "iqr_ns": 5754.151515151515,
        "q1_ns": 2706.848484848485,
        "q3_ns": 8461.0
      },
      "first_seen_ts_ns": 1749742664172735111,
      "last_seen_ts_ns": 1749742665272056973,
      "duration_active_s": 1.099321862
    },
    {
      "tgid": 332,
      "comm": "flux-job",
      "cgroup_id": 100743,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 19871.09090909091,
        "mean_ns": 9935.545454545456,
        "median_ns": 9971.0,
        "min_ns": 9900.09090909091,
        "max_ns": 9971.0,
        "variance_ns2": 2514.0495867767363,
        "iqr_ns": 70.90909090909008,
        "q1_ns": 9900.09090909091,
        "q3_ns": 9971.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 10698.454545454544,
        "mean_ns": 5349.227272727272,
        "median_ns": 6581.0,
        "min_ns": 4117.454545454545,
        "max_ns": 6581.0,
        "variance_ns2": 3034528.1033057873,
        "iqr_ns": 2463.545454545455,
        "q1_ns": 4117.454545454545,
        "q3_ns": 6581.0
      },
      "first_seen_ts_ns": 1749742664172735111,
      "last_seen_ts_ns": 1749742665377062443,
      "duration_active_s": 1.204327332
    }
  ]
}
[15:37:47] Cleanup complete. Exiting.
