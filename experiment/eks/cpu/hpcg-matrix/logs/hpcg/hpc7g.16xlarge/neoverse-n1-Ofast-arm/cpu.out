unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[16:30:37] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[16:30:43] Start indicator found. Proceeding with monitoring.
[16:30:43] Initializing eBPF for CPU Scheduling monitoring...
[16:30:43] BPF C code compiled and loaded.
[16:30:43] Attached tracepoints.
[16:30:43] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[16:31:48] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[16:31:48] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 89,
      "comm": "python3",
      "cgroup_id": 47148,
      "on_cpu_stats_ns": {
        "count": 561.0,
        "sum_ns": 53174005.26666673,
        "mean_ns": 94784.32311348793,
        "median_ns": 38374.83232576092,
        "min_ns": 3604.0,
        "max_ns": 8293775.6,
        "variance_ns2": 196076841423.39105,
        "iqr_ns": 70224.71526812609,
        "q1_ns": 16655.464306715454,
        "q3_ns": 86880.17957484155
      },
      "runq_latency_stats_ns": {
        "count": 561.0,
        "sum_ns": 21289339.833333332,
        "mean_ns": 37948.912358882946,
        "median_ns": 13623.886223880463,
        "min_ns": 566.0,
        "max_ns": 4999913.5,
        "variance_ns2": 60280297269.94418,
        "iqr_ns": 18903.318726326328,
        "q1_ns": 6278.664798693643,
        "q3_ns": 25181.983525019972
      },
      "first_seen_ts_ns": 1749832243697121622,
      "last_seen_ts_ns": 1749832307918252733,
      "duration_active_s": 64.221131111
    },
    {
      "tgid": 248,
      "comm": "python3",
      "cgroup_id": 47232,
      "on_cpu_stats_ns": {
        "count": 521.0,
        "sum_ns": 29094003.702631537,
        "mean_ns": 55842.61747146169,
        "median_ns": 35918.176903711625,
        "min_ns": 3292.0,
        "max_ns": 1121513.0,
        "variance_ns2": 7064039391.870179,
        "iqr_ns": 64523.547581508836,
        "q1_ns": 18188.190186049855,
        "q3_ns": 82711.73776755869
      },
      "runq_latency_stats_ns": {
        "count": 521.0,
        "sum_ns": 11569226.828947369,
        "mean_ns": 22205.809652490152,
        "median_ns": 16477.50048485818,
        "min_ns": 717.0,
        "max_ns": 312023.0,
        "variance_ns2": 861259469.1369301,
        "iqr_ns": 23413.44054665156,
        "q1_ns": 6278.849190800507,
        "q3_ns": 29692.28973745207
      },
      "first_seen_ts_ns": 1749832243697121622,
      "last_seen_ts_ns": 1749832308325987349,
      "duration_active_s": 64.628865727
    },
    {
      "tgid": 177,
      "comm": "flux-broker-0",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 100.0,
        "sum_ns": 3491018.5,
        "mean_ns": 34910.185,
        "median_ns": 24769.585269024814,
        "min_ns": 4146.0,
        "max_ns": 170034.0,
        "variance_ns2": 1095924043.6318147,
        "iqr_ns": 19018.819736599493,
        "q1_ns": 13581.96807884246,
        "q3_ns": 32600.787815441952
      },
      "runq_latency_stats_ns": {
        "count": 100.0,
        "sum_ns": 1862428.1666666665,
        "mean_ns": 18624.281666666666,
        "median_ns": 14901.783777613273,
        "min_ns": 1323.0,
        "max_ns": 118695.0,
        "variance_ns2": 434953292.22990763,
        "iqr_ns": 6681.398066046044,
        "q1_ns": 8673.123576304217,
        "q3_ns": 15354.52164235026
      },
      "first_seen_ts_ns": 1749832243697121622,
      "last_seen_ts_ns": 1749832307815213279,
      "duration_active_s": 64.118091657
    },
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 46980,
      "on_cpu_stats_ns": {
        "count": 3.0,
        "sum_ns": 902203.1428571428,
        "mean_ns": 300734.38095238095,
        "median_ns": 307293.3333333333,
        "min_ns": 220002.66666666666,
        "max_ns": 374907.14285714284,
        "variance_ns2": 6031114078.213151,
        "iqr_ns": 154904.47619047618,
        "q1_ns": 220002.66666666666,
        "q3_ns": 374907.14285714284
      },
      "runq_latency_stats_ns": {
        "count": 3.0,
        "sum_ns": 22281.952380952378,
        "mean_ns": 7427.317460317459,
        "median_ns": 6233.666666666667,
        "min_ns": 844.2857142857143,
        "max_ns": 15204.0,
        "variance_ns2": 52618950.2547241,
        "iqr_ns": 14359.714285714286,
        "q1_ns": 844.2857142857143,
        "q3_ns": 15204.0
      },
      "first_seen_ts_ns": 1749832271346492641,
      "last_seen_ts_ns": 1749832308325987349,
      "duration_active_s": 36.979494708
    },
    {
      "tgid": 324,
      "comm": "xhpcg",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 11.0,
        "sum_ns": 659039.5,
        "mean_ns": 59912.68181818182,
        "median_ns": 36499.113777777784,
        "min_ns": 9678.0,
        "max_ns": 164168.0,
        "variance_ns2": 3840391476.113636,
        "iqr_ns": 110537.927734375,
        "q1_ns": 24217.072265625,
        "q3_ns": 134755.0
      },
      "runq_latency_stats_ns": {
        "count": 11.0,
        "sum_ns": 130416.0,
        "mean_ns": 11856.0,
        "median_ns": 12798.332638888889,
        "min_ns": 2588.5,
        "max_ns": 29726.0,
        "variance_ns2": 71965164.85000001,
        "iqr_ns": 11269.175,
        "q1_ns": 6274.325,
        "q3_ns": 17543.5
      },
      "first_seen_ts_ns": 1749832243697121622,
      "last_seen_ts_ns": 1749832261932102003,
      "duration_active_s": 18.234980381
    },
    {
      "tgid": 344,
      "comm": "xhpcg",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 35.0,
        "sum_ns": 648507.0,
        "mean_ns": 18528.77142857143,
        "median_ns": 18912.321306941187,
        "min_ns": 5437.0,
        "max_ns": 35976.0,
        "variance_ns2": 78003165.82857141,
        "iqr_ns": 14110.045862675452,
        "q1_ns": 11197.262377607414,
        "q3_ns": 25307.308240282866
      },
      "runq_latency_stats_ns": {
        "count": 35.0,
        "sum_ns": 327700.0,
        "mean_ns": 9362.857142857143,
        "median_ns": 6021.550307271296,
        "min_ns": 1081.0,
        "max_ns": 66090.0,
        "variance_ns2": 177175403.7731093,
        "iqr_ns": 3426.723942774739,
        "q1_ns": 4312.352280250103,
        "q3_ns": 7739.076223024842
      },
      "first_seen_ts_ns": 1749832243697121622,
      "last_seen_ts_ns": 1749832261066503583,
      "duration_active_s": 17.369381961
    },
    {
      "tgid": 320,
      "comm": "python3",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 5.0,
        "sum_ns": 476021.5,
        "mean_ns": 95204.3,
        "median_ns": 101833.5,
        "min_ns": 39695.0,
        "max_ns": 143666.0,
        "variance_ns2": 1580838888.95,
        "iqr_ns": 41219.0,
        "q1_ns": 74804.0,
        "q3_ns": 116023.0
      },
      "runq_latency_stats_ns": {
        "count": 5.0,
        "sum_ns": 119604.5,
        "mean_ns": 23920.9,
        "median_ns": 20464.0,
        "min_ns": 5444.0,
        "max_ns": 50580.0,
        "variance_ns2": 272883540.55,
        "iqr_ns": 5712.5,
        "q1_ns": 18702.0,
        "q3_ns": 24414.5
      },
      "first_seen_ts_ns": 1749832243854850481,
      "last_seen_ts_ns": 1749832245736539841,
      "duration_active_s": 1.88168936
    },
    {
      "tgid": 356,
      "comm": "xhpcg",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 32.0,
        "sum_ns": 346421.7678571429,
        "mean_ns": 10825.680245535716,
        "median_ns": 9777.731621045104,
        "min_ns": 3747.875,
        "max_ns": 18888.285714285714,
        "variance_ns2": 16404230.270189252,
        "iqr_ns": 6001.399644520172,
        "q1_ns": 7888.0917220494775,
        "q3_ns": 13889.49136656965
      },
      "runq_latency_stats_ns": {
        "count": 32.0,
        "sum_ns": 172896.38095238092,
        "mean_ns": 5403.011904761904,
        "median_ns": 4892.822919397082,
        "min_ns": 1343.0,
        "max_ns": 9817.857142857143,
        "variance_ns2": 5091552.50265617,
        "iqr_ns": 2502.5045381145574,
        "q1_ns": 4074.703045085582,
        "q3_ns": 6577.207583200139
      },
      "first_seen_ts_ns": 1749832245076475979,
      "last_seen_ts_ns": 1749832255776482231,
      "duration_active_s": 10.700006252
    },
    {
      "tgid": 325,
      "comm": "xhpcg",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 4.0,
        "sum_ns": 332616.0,
        "mean_ns": 83154.0,
        "median_ns": 117858.0,
        "min_ns": 7559.0,
        "max_ns": 162797.0,
        "variance_ns2": 4921232198.0,
        "iqr_ns": 118395.0,
        "q1_ns": 44402.0,
        "q3_ns": 162797.0
      },
      "runq_latency_stats_ns": {
        "count": 4.0,
        "sum_ns": 42184.0,
        "mean_ns": 10546.0,
        "median_ns": 14357.0,
        "min_ns": 4889.0,
        "max_ns": 17652.0,
        "variance_ns2": 41562735.333333336,
        "iqr_ns": 12366.0,
        "q1_ns": 5286.0,
        "q3_ns": 17652.0
      },
      "first_seen_ts_ns": 1749832243854850481,
      "last_seen_ts_ns": 1749832244402378129,
      "duration_active_s": 0.547527648
    },
    {
      "tgid": 177,
      "comm": "ZMQbg/IO/0",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 18.0,
        "sum_ns": 329058.99999999994,
        "mean_ns": 18281.05555555555,
        "median_ns": 17017.950491071428,
        "min_ns": 7496.0,
        "max_ns": 31975.0,
        "variance_ns2": 60103321.1143791,
        "iqr_ns": 11663.69980448221,
        "q1_ns": 12893.774603174603,
        "q3_ns": 24557.474407656813
      },
      "runq_latency_stats_ns": {
        "count": 18.0,
        "sum_ns": 219394.49999999997,
        "mean_ns": 12188.583333333332,
        "median_ns": 14178.338438271605,
        "min_ns": 2053.0,
        "max_ns": 31470.0,
        "variance_ns2": 53886639.24264705,
        "iqr_ns": 7035.61517551388,
        "q1_ns": 8997.155384542706,
        "q3_ns": 16032.770560056586
      },
      "first_seen_ts_ns": 1749832243697121622,
      "last_seen_ts_ns": 1749832304457547216,
      "duration_active_s": 60.760425594
    },
    {
      "tgid": 340,
      "comm": "xhpcg",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 1.0,
        "sum_ns": 329012.0,
        "mean_ns": 329012.0,
        "median_ns": 329012.0,
        "min_ns": 329012.0,
        "max_ns": 329012.0,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 329012.0,
        "q3_ns": 329012.0
      },
      "runq_latency_stats_ns": {
        "count": 1.0,
        "sum_ns": 5331.0,
        "mean_ns": 5331.0,
        "median_ns": 5331.0,
        "min_ns": 5331.0,
        "max_ns": 5331.0,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 5331.0,
        "q3_ns": 5331.0
      },
      "first_seen_ts_ns": 1749832260626433873,
      "last_seen_ts_ns": 1749832260626433873,
      "duration_active_s": 0
    },
    {
      "tgid": 44,
      "comm": "bash",
      "cgroup_id": 47232,
      "on_cpu_stats_ns": {
        "count": 16.0,
        "sum_ns": 234988.0,
        "mean_ns": 14686.75,
        "median_ns": 13987.438492063491,
        "min_ns": 6611.0,
        "max_ns": 22550.0,
        "variance_ns2": 16140967.266666664,
        "iqr_ns": 5613.885208333333,
        "q1_ns": 12514.114791666667,
        "q3_ns": 18128.0
      },
      "runq_latency_stats_ns": {
        "count": 16.0,
        "sum_ns": 202159.50000000003,
        "mean_ns": 12634.968750000002,
        "median_ns": 14018.75595238095,
        "min_ns": 1401.0,
        "max_ns": 21259.0,
        "variance_ns2": 33045177.482291672,
        "iqr_ns": 5365.6464206104265,
        "q1_ns": 11609.555208333333,
        "q3_ns": 16975.20162894376
      },
      "first_seen_ts_ns": 1749832248486432238,
      "last_seen_ts_ns": 1749832304457547216,
      "duration_active_s": 55.971114978
    },
    {
      "tgid": 329,
      "comm": "xhpcg",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 6.0,
        "sum_ns": 105217.0,
        "mean_ns": 17536.166666666668,
        "median_ns": 17238.0,
        "min_ns": 8067.0,
        "max_ns": 26364.0,
        "variance_ns2": 38021585.36666666,
        "iqr_ns": 0.0,
        "q1_ns": 17238.0,
        "q3_ns": 17238.0
      },
      "runq_latency_stats_ns": {
        "count": 6.0,
        "sum_ns": 44633.0,
        "mean_ns": 7438.833333333333,
        "median_ns": 6645.0,
        "min_ns": 3003.0,
        "max_ns": 15701.0,
        "variance_ns2": 25087216.966666665,
        "iqr_ns": 2393.0,
        "q1_ns": 4252.0,
        "q3_ns": 6645.0
      },
      "first_seen_ts_ns": 1749832248486432238,
      "last_seen_ts_ns": 1749832261932102003,
      "duration_active_s": 13.445669765
    },
    {
      "tgid": 319,
      "comm": "flux-job",
      "cgroup_id": 47316,
      "on_cpu_stats_ns": {
        "count": 5.0,
        "sum_ns": 75778.88888888889,
        "mean_ns": 15155.777777777777,
        "median_ns": 14085.0,
        "min_ns": 9574.0,
        "max_ns": 20772.0,
        "variance_ns2": 24349197.19135803,
        "iqr_ns": 8125.8888888888905,
        "q1_ns": 11611.0,
        "q3_ns": 19736.88888888889
      },
      "runq_latency_stats_ns": {
        "count": 5.0,
        "sum_ns": 51010.88888888888,
        "mean_ns": 10202.177777777777,
        "median_ns": 13146.0,
        "min_ns": 2689.8888888888887,
        "max_ns": 16439.0,
        "variance_ns2": 37633558.04691358,
        "iqr_ns": 9502.0,
        "q1_ns": 4617.0,
        "q3_ns": 14119.0
      },
      "first_seen_ts_ns": 1749832248486432238,
      "last_seen_ts_ns": 1749832261932102003,
      "duration_active_s": 13.445669765
    }
  ]
}
[16:31:48] Cleanup complete. Exiting.
