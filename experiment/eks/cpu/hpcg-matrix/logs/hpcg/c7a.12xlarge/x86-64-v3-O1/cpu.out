unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[07:07:16] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[07:07:21] Start indicator found. Proceeding with monitoring.
[07:07:21] Initializing eBPF for CPU Scheduling monitoring...
[07:07:21] BPF C code compiled and loaded.
[07:07:21] Attached tracepoints.
[07:07:21] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[07:08:31] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[07:08:31] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 140,
      "comm": "python3",
      "cgroup_id": 73862,
      "on_cpu_stats_ns": {
        "count": 577.0,
        "sum_ns": 32025512.00693573,
        "mean_ns": 55503.48701375343,
        "median_ns": 18948.425355683037,
        "min_ns": 4491.555555555556,
        "max_ns": 1476886.0,
        "variance_ns2": 10811672852.582579,
        "iqr_ns": 51168.26166840489,
        "q1_ns": 14221.054030689122,
        "q3_ns": 65389.31569909401
      },
      "runq_latency_stats_ns": {
        "count": 578.0,
        "sum_ns": 19968919.373241615,
        "mean_ns": 34548.30341391283,
        "median_ns": 15251.336707586794,
        "min_ns": 1060.0,
        "max_ns": 5309677.0,
        "variance_ns2": 56159976705.24432,
        "iqr_ns": 15897.537238809915,
        "q1_ns": 4149.144138164187,
        "q3_ns": 20046.681376974102
      },
      "first_seen_ts_ns": 1749884842093090655,
      "last_seen_ts_ns": 1749884911262093143,
      "duration_active_s": 69.169002488
    },
    {
      "tgid": 119,
      "comm": "flux-broker-0",
      "cgroup_id": 74002,
      "on_cpu_stats_ns": {
        "count": 144.0,
        "sum_ns": 9521266.634415584,
        "mean_ns": 66119.90718344155,
        "median_ns": 20095.623451589898,
        "min_ns": 5102.727272727273,
        "max_ns": 1083542.0,
        "variance_ns2": 17543338770.659653,
        "iqr_ns": 31743.169524898753,
        "q1_ns": 14978.678140026976,
        "q3_ns": 46721.84766492573
      },
      "runq_latency_stats_ns": {
        "count": 144.0,
        "sum_ns": 18071531.751906827,
        "mean_ns": 125496.74827713074,
        "median_ns": 8775.641173418568,
        "min_ns": 1320.0,
        "max_ns": 9942216.0,
        "variance_ns2": 755720817309.2335,
        "iqr_ns": 15288.291804453766,
        "q1_ns": 4414.811990114675,
        "q3_ns": 19703.10379456844
      },
      "first_seen_ts_ns": 1749884842093090655,
      "last_seen_ts_ns": 1749884907213966761,
      "duration_active_s": 65.120876106
    },
    {
      "tgid": 245,
      "comm": "python3",
      "cgroup_id": 73932,
      "on_cpu_stats_ns": {
        "count": 122.0,
        "sum_ns": 8201496.3551114155,
        "mean_ns": 67225.37995992963,
        "median_ns": 30755.279047416927,
        "min_ns": 6060.909090909091,
        "max_ns": 444904.0,
        "variance_ns2": 7960694628.965942,
        "iqr_ns": 59988.68967303804,
        "q1_ns": 15563.949065596204,
        "q3_ns": 75552.63873863424
      },
      "runq_latency_stats_ns": {
        "count": 122.0,
        "sum_ns": 7692368.0817305995,
        "mean_ns": 63052.197391234426,
        "median_ns": 11944.070508616485,
        "min_ns": 1280.0,
        "max_ns": 5015217.5,
        "variance_ns2": 205352184558.04797,
        "iqr_ns": 33579.36655947516,
        "q1_ns": 3256.3513519868598,
        "q3_ns": 36835.717911462016
      },
      "first_seen_ts_ns": 1749884842093090655,
      "last_seen_ts_ns": 1749884911262093143,
      "duration_active_s": 69.169002488
    },
    {
      "tgid": 31,
      "comm": "bash",
      "cgroup_id": 73862,
      "on_cpu_stats_ns": {
        "count": 28.0,
        "sum_ns": 4293620.500000001,
        "mean_ns": 153343.58928571432,
        "median_ns": 120745.27867666898,
        "min_ns": 10440.0,
        "max_ns": 651677.0,
        "variance_ns2": 23192440457.926914,
        "iqr_ns": 150605.25758058944,
        "q1_ns": 58763.20537435585,
        "q3_ns": 209368.46295494528
      },
      "runq_latency_stats_ns": {
        "count": 28.0,
        "sum_ns": 686281.5,
        "mean_ns": 24510.053571428572,
        "median_ns": 11536.539695104557,
        "min_ns": 2235.0,
        "max_ns": 328113.0,
        "variance_ns2": 3714439453.598876,
        "iqr_ns": 17306.99349406737,
        "q1_ns": 4566.785941410844,
        "q3_ns": 21873.779435478216
      },
      "first_seen_ts_ns": 1749884842220419284,
      "last_seen_ts_ns": 1749884905440388470,
      "duration_active_s": 63.219969186
    },
    {
      "tgid": 305,
      "comm": "xhpcg",
      "cgroup_id": 74002,
      "on_cpu_stats_ns": {
        "count": 44.0,
        "sum_ns": 1470284.0,
        "mean_ns": 33415.545454545456,
        "median_ns": 30646.452718893845,
        "min_ns": 9641.0,
        "max_ns": 67131.0,
        "variance_ns2": 373238315.8350952,
        "iqr_ns": 34337.111350012616,
        "q1_ns": 18951.72529096836,
        "q3_ns": 53288.836640980975
      },
      "runq_latency_stats_ns": {
        "count": 44.0,
        "sum_ns": 707622.0,
        "mean_ns": 16082.318181818182,
        "median_ns": 14426.162149586718,
        "min_ns": 1780.0,
        "max_ns": 38051.0,
        "variance_ns2": 97563974.78012685,
        "iqr_ns": 17505.066350198096,
        "q1_ns": 7331.919751466088,
        "q3_ns": 24836.986101664184
      },
      "first_seen_ts_ns": 1749884842440624946,
      "last_seen_ts_ns": 1749884864977744553,
      "duration_active_s": 22.537119607
    },
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 73652,
      "on_cpu_stats_ns": {
        "count": 3.0,
        "sum_ns": 670831.2222222222,
        "mean_ns": 223610.40740740742,
        "median_ns": 241192.0,
        "min_ns": 183192.0,
        "max_ns": 246447.22222222222,
        "variance_ns2": 1232140083.1646092,
        "iqr_ns": 63255.22222222222,
        "q1_ns": 183192.0,
        "q3_ns": 246447.22222222222
      },
      "runq_latency_stats_ns": {
        "count": 3.0,
        "sum_ns": 13171.222222222223,
        "mean_ns": 4390.407407407408,
        "median_ns": 1920.0,
        "min_ns": 1127.7777777777778,
        "max_ns": 10123.444444444445,
        "variance_ns2": 24807689.263374493,
        "iqr_ns": 8995.666666666668,
        "q1_ns": 1127.7777777777778,
        "q3_ns": 10123.444444444445
      },
      "first_seen_ts_ns": 1749884847400493840,
      "last_seen_ts_ns": 1749884911262093143,
      "duration_active_s": 63.861599303
    },
    {
      "tgid": 315,
      "comm": "xhpcg",
      "cgroup_id": 74002,
      "on_cpu_stats_ns": {
        "count": 39.0,
        "sum_ns": 538300.1963203463,
        "mean_ns": 13802.569136419135,
        "median_ns": 10672.47772696873,
        "min_ns": 5698.714285714285,
        "max_ns": 35073.0,
        "variance_ns2": 67993583.250996,
        "iqr_ns": 13206.362951337624,
        "q1_ns": 6876.692767015729,
        "q3_ns": 20083.055718353353
      },
      "runq_latency_stats_ns": {
        "count": 39.0,
        "sum_ns": 379560.4090909091,
        "mean_ns": 9732.318181818182,
        "median_ns": 9214.340915717217,
        "min_ns": 820.0,
        "max_ns": 36074.71428571428,
        "variance_ns2": 65775977.449451834,
        "iqr_ns": 11081.351778024733,
        "q1_ns": 3702.0305794614073,
        "q3_ns": 14783.38235748614
      },
      "first_seen_ts_ns": 1749884842764904552,
      "last_seen_ts_ns": 1749884850140510331,
      "duration_active_s": 7.375605779
    },
    {
      "tgid": 65,
      "comm": "bash",
      "cgroup_id": 74002,
      "on_cpu_stats_ns": {
        "count": 28.0,
        "sum_ns": 502166.06701536453,
        "mean_ns": 17934.502393405877,
        "median_ns": 19615.42893561451,
        "min_ns": 5385.217391304348,
        "max_ns": 28690.0,
        "variance_ns2": 54141225.796974726,
        "iqr_ns": 11708.398213311311,
        "q1_ns": 13023.897299091894,
        "q3_ns": 24732.295512403205
      },
      "runq_latency_stats_ns": {
        "count": 28.0,
        "sum_ns": 336551.2384999767,
        "mean_ns": 12019.687089284882,
        "median_ns": 8821.819312809737,
        "min_ns": 1834.1020408163265,
        "max_ns": 24150.0,
        "variance_ns2": 89103238.80408373,
        "iqr_ns": 18336.033654824063,
        "q1_ns": 2500.6064283721307,
        "q3_ns": 20836.640083196195
      },
      "first_seen_ts_ns": 1749884842093090655,
      "last_seen_ts_ns": 1749884907213966761,
      "duration_active_s": 65.120876106
    },
    {
      "tgid": 303,
      "comm": "flux-shell",
      "cgroup_id": 74002,
      "on_cpu_stats_ns": {
        "count": 1.0,
        "sum_ns": 155222.0,
        "mean_ns": 155222.0,
        "median_ns": 155222.0,
        "min_ns": 155222.0,
        "max_ns": 155222.0,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 155222.0,
        "q3_ns": 155222.0
      },
      "runq_latency_stats_ns": {
        "count": 1.0,
        "sum_ns": 23200.0,
        "mean_ns": 23200.0,
        "median_ns": 23200.0,
        "min_ns": 23200.0,
        "max_ns": 23200.0,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 23200.0,
        "q3_ns": 23200.0
      },
      "first_seen_ts_ns": 1749884845870400903,
      "last_seen_ts_ns": 1749884845870400903,
      "duration_active_s": 0
    }
  ]
}
[07:08:31] Cleanup complete. Exiting.
