unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[16:40:49] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[16:40:55] Start indicator found. Proceeding with monitoring.
[16:40:55] Initializing eBPF for CPU Scheduling monitoring...
[16:40:55] BPF C code compiled and loaded.
[16:40:55] Attached tracepoints.
[16:40:55] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[16:42:04] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[16:42:04] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 260,
      "comm": "python3",
      "cgroup_id": 17138,
      "on_cpu_stats_ns": {
        "count": 411.0,
        "sum_ns": 44921941.79582225,
        "mean_ns": 109299.12845698843,
        "median_ns": 22003.219596636507,
        "min_ns": 3531.655172413793,
        "max_ns": 16425499.0,
        "variance_ns2": 996873046119.514,
        "iqr_ns": 12401.139328286285,
        "q1_ns": 12197.798382161945,
        "q3_ns": 24598.93771044823
      },
      "runq_latency_stats_ns": {
        "count": 411.0,
        "sum_ns": 8374600.20215652,
        "mean_ns": 20376.15620962657,
        "median_ns": 7494.34352240121,
        "min_ns": 644.0,
        "max_ns": 4995922.0,
        "variance_ns2": 60585474204.95811,
        "iqr_ns": 15211.185771007025,
        "q1_ns": 3367.196720803913,
        "q3_ns": 18578.38249181094
      },
      "first_seen_ts_ns": 1749746455920510445,
      "last_seen_ts_ns": 1749746524524703676,
      "duration_active_s": 68.604193231
    },
    {
      "tgid": 353,
      "comm": "xhpcg",
      "cgroup_id": 17208,
      "on_cpu_stats_ns": {
        "count": 127.0,
        "sum_ns": 27325443.65435037,
        "mean_ns": 215160.9736563021,
        "median_ns": 123477.98666861482,
        "min_ns": 11546.666666666666,
        "max_ns": 8863232.5,
        "variance_ns2": 616272319979.2919,
        "iqr_ns": 171309.65847165615,
        "q1_ns": 87035.13904503168,
        "q3_ns": 258344.79751668783
      },
      "runq_latency_stats_ns": {
        "count": 127.0,
        "sum_ns": 5505776.643193402,
        "mean_ns": 43352.57199364884,
        "median_ns": 27328.182255594205,
        "min_ns": 763.0,
        "max_ns": 854780.0,
        "variance_ns2": 9643988136.069803,
        "iqr_ns": 39911.98130656747,
        "q1_ns": 9678.912109413013,
        "q3_ns": 49590.89341598048
      },
      "first_seen_ts_ns": 1749746456662755265,
      "last_seen_ts_ns": 1749746476436959164,
      "duration_active_s": 19.774203899
    },
    {
      "tgid": 137,
      "comm": "python3",
      "cgroup_id": 17068,
      "on_cpu_stats_ns": {
        "count": 375.0,
        "sum_ns": 16513822.593325207,
        "mean_ns": 44036.86024886722,
        "median_ns": 20285.2563591495,
        "min_ns": 3611.0689655172414,
        "max_ns": 2420890.0,
        "variance_ns2": 19857916457.247677,
        "iqr_ns": 11544.618551055924,
        "q1_ns": 12264.705892156058,
        "q3_ns": 23809.324443211983
      },
      "runq_latency_stats_ns": {
        "count": 375.0,
        "sum_ns": 14757732.642943036,
        "mean_ns": 39353.95371451476,
        "median_ns": 12827.686239775709,
        "min_ns": 747.0,
        "max_ns": 9999238.0,
        "variance_ns2": 266765982124.98633,
        "iqr_ns": 10966.178792726947,
        "q1_ns": 4845.553416902606,
        "q3_ns": 15811.732209629554
      },
      "first_seen_ts_ns": 1749746455920510445,
      "last_seen_ts_ns": 1749746524524703676,
      "duration_active_s": 68.604193231
    },
    {
      "tgid": 111,
      "comm": "flux-broker-0",
      "cgroup_id": 17208,
      "on_cpu_stats_ns": {
        "count": 89.0,
        "sum_ns": 3465633.9292557933,
        "mean_ns": 38939.70707028981,
        "median_ns": 20558.737585021572,
        "min_ns": 5221.0,
        "max_ns": 181175.0,
        "variance_ns2": 1799715870.651645,
        "iqr_ns": 19695.94427471627,
        "q1_ns": 13544.709704490104,
        "q3_ns": 33240.65397920637
      },
      "runq_latency_stats_ns": {
        "count": 89.0,
        "sum_ns": 584893.3775066845,
        "mean_ns": 6571.835702322298,
        "median_ns": 3430.4627747934423,
        "min_ns": 738.0,
        "max_ns": 30277.0,
        "variance_ns2": 54686118.033584945,
        "iqr_ns": 6861.217872249055,
        "q1_ns": 1599.913512008801,
        "q3_ns": 8461.131384257857
      },
      "first_seen_ts_ns": 1749746455920510445,
      "last_seen_ts_ns": 1749746524524703676,
      "duration_active_s": 68.604193231
    },
    {
      "tgid": 331,
      "comm": "flux-job",
      "cgroup_id": 17208,
      "on_cpu_stats_ns": {
        "count": 5.0,
        "sum_ns": 630610.0,
        "mean_ns": 126122.0,
        "median_ns": 85341.0,
        "min_ns": 18930.0,
        "max_ns": 246303.0,
        "variance_ns2": 11807232009.0,
        "iqr_ns": 196194.0,
        "q1_ns": 41921.0,
        "q3_ns": 238115.0
      },
      "runq_latency_stats_ns": {
        "count": 5.0,
        "sum_ns": 21909.0,
        "mean_ns": 4381.8,
        "median_ns": 2872.0,
        "min_ns": 1275.0,
        "max_ns": 10863.0,
        "variance_ns2": 14286658.7,
        "iqr_ns": 1715.0,
        "q1_ns": 2592.0,
        "q3_ns": 4307.0
      },
      "first_seen_ts_ns": 1749746456553525105,
      "last_seen_ts_ns": 1749746467926697188,
      "duration_active_s": 11.373172083
    },
    {
      "tgid": 347,
      "comm": "xhpcg",
      "cgroup_id": 17208,
      "on_cpu_stats_ns": {
        "count": 21.0,
        "sum_ns": 448567.00000000006,
        "mean_ns": 21360.333333333336,
        "median_ns": 20988.4405920439,
        "min_ns": 9887.0,
        "max_ns": 33560.0,
        "variance_ns2": 37137750.133333325,
        "iqr_ns": 6009.468690515554,
        "q1_ns": 18267.049735449735,
        "q3_ns": 24276.51842596529
      },
      "runq_latency_stats_ns": {
        "count": 21.0,
        "sum_ns": 135550.0,
        "mean_ns": 6454.761904761905,
        "median_ns": 6680.78467840346,
        "min_ns": 2246.0,
        "max_ns": 11527.0,
        "variance_ns2": 7699393.690476189,
        "iqr_ns": 3062.4694090136054,
        "q1_ns": 4941.684672619048,
        "q3_ns": 8004.154081632653
      },
      "first_seen_ts_ns": 1749746466603555263,
      "last_seen_ts_ns": 1749746476861939775,
      "duration_active_s": 10.258384512
    },
    {
      "tgid": 383,
      "comm": "xhpcg",
      "cgroup_id": 17208,
      "on_cpu_stats_ns": {
        "count": 35.0,
        "sum_ns": 440941.2678571429,
        "mean_ns": 12598.32193877551,
        "median_ns": 13585.542629369169,
        "min_ns": 3749.25,
        "max_ns": 19573.625,
        "variance_ns2": 15944783.79755938,
        "iqr_ns": 7648.190298382914,
        "q1_ns": 7483.652051868891,
        "q3_ns": 15131.842350251805
      },
      "runq_latency_stats_ns": {
        "count": 35.0,
        "sum_ns": 174437.35714285713,
        "mean_ns": 4983.924489795918,
        "median_ns": 5160.255011074177,
        "min_ns": 1386.875,
        "max_ns": 7428.25,
        "variance_ns2": 2601109.2869163733,
        "iqr_ns": 2620.942155743562,
        "q1_ns": 3222.788565414868,
        "q3_ns": 5843.73072115843
      },
      "first_seen_ts_ns": 1749746458192188078,
      "last_seen_ts_ns": 1749746470577267521,
      "duration_active_s": 12.385079443
    },
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 16858,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 404051.22222222225,
        "mean_ns": 202025.61111111112,
        "median_ns": 223932.22222222222,
        "min_ns": 180119.0,
        "max_ns": 223932.22222222222,
        "variance_ns2": 959799220.746914,
        "iqr_ns": 43813.22222222222,
        "q1_ns": 180119.0,
        "q3_ns": 223932.22222222222
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 2539.777777777778,
        "mean_ns": 1269.888888888889,
        "median_ns": 1866.0,
        "min_ns": 673.7777777777778,
        "max_ns": 1866.0,
        "variance_ns2": 710696.9135802469,
        "iqr_ns": 1192.2222222222222,
        "q1_ns": 673.7777777777778,
        "q3_ns": 1866.0
      },
      "first_seen_ts_ns": 1749746478193534125,
      "last_seen_ts_ns": 1749746524524703676,
      "duration_active_s": 46.331169551
    },
    {
      "tgid": 30,
      "comm": "bash",
      "cgroup_id": 17068,
      "on_cpu_stats_ns": {
        "count": 23.0,
        "sum_ns": 369454.5520833334,
        "mean_ns": 16063.241394927538,
        "median_ns": 15453.159013241791,
        "min_ns": 5770.9375,
        "max_ns": 27839.0,
        "variance_ns2": 50903848.53975944,
        "iqr_ns": 10737.55110269245,
        "q1_ns": 12708.301939232239,
        "q3_ns": 23445.85304192469
      },
      "runq_latency_stats_ns": {
        "count": 23.0,
        "sum_ns": 245265.53882575754,
        "mean_ns": 10663.719079380762,
        "median_ns": 10062.418536138392,
        "min_ns": 1096.09375,
        "max_ns": 25829.0,
        "variance_ns2": 55607792.067051716,
        "iqr_ns": 12896.585089734623,
        "q1_ns": 3755.560056070093,
        "q3_ns": 16652.145145804716
      },
      "first_seen_ts_ns": 1749746456034086815,
      "last_seen_ts_ns": 1749746521476823647,
      "duration_active_s": 65.442736832
    }
  ]
}
[16:42:04] Cleanup complete. Exiting.
