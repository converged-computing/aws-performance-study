unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[16:46:48] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[16:46:49] Start indicator found. Proceeding with monitoring.
[16:46:49] Initializing eBPF for CPU Scheduling monitoring...
[16:46:49] BPF C code compiled and loaded.
[16:46:49] Attached tracepoints.
[16:46:49] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[16:47:04] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[16:47:04] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 20070,
      "on_cpu_stats_ns": {
        "count": 11.0,
        "sum_ns": 19957233.785714284,
        "mean_ns": 1814293.9805194803,
        "median_ns": 763716.4069642858,
        "min_ns": 353629.0,
        "max_ns": 12304872.0,
        "variance_ns2": 12159506870964.287,
        "iqr_ns": 349689.6785714285,
        "q1_ns": 651138.3214285715,
        "q3_ns": 1000828.0
      },
      "runq_latency_stats_ns": {
        "count": 11.0,
        "sum_ns": 55810.000000000015,
        "mean_ns": 5073.636363636365,
        "median_ns": 2404.6666666666665,
        "min_ns": 1134.0,
        "max_ns": 21094.0,
        "variance_ns2": 35209808.25454546,
        "iqr_ns": 5242.592592592593,
        "q1_ns": 1820.0,
        "q3_ns": 7062.592592592593
      },
      "first_seen_ts_ns": 1749746810669183313,
      "last_seen_ts_ns": 1749746824081764044,
      "duration_active_s": 13.412580731
    },
    {
      "tgid": 265,
      "comm": "python3",
      "cgroup_id": 20350,
      "on_cpu_stats_ns": {
        "count": 100.0,
        "sum_ns": 3433892.3754456337,
        "mean_ns": 34338.92375445634,
        "median_ns": 12574.765435601796,
        "min_ns": 3139.5,
        "max_ns": 617401.5,
        "variance_ns2": 7469997383.515218,
        "iqr_ns": 18679.44967274644,
        "q1_ns": 6946.335061786176,
        "q3_ns": 25625.784734532615
      },
      "runq_latency_stats_ns": {
        "count": 100.0,
        "sum_ns": 951222.7157419787,
        "mean_ns": 9512.227157419788,
        "median_ns": 4834.998111532147,
        "min_ns": 757.0,
        "max_ns": 164004.0,
        "variance_ns2": 328982239.5033693,
        "iqr_ns": 8354.05570036169,
        "q1_ns": 2082.94533470745,
        "q3_ns": 10437.001035069141
      },
      "first_seen_ts_ns": 1749746810080384160,
      "last_seen_ts_ns": 1749746824081764044,
      "duration_active_s": 14.001379884
    },
    {
      "tgid": 201,
      "comm": "python3",
      "cgroup_id": 20280,
      "on_cpu_stats_ns": {
        "count": 91.0,
        "sum_ns": 1772240.412878788,
        "mean_ns": 19475.169372294375,
        "median_ns": 14655.912677423801,
        "min_ns": 3678.0,
        "max_ns": 105378.0,
        "variance_ns2": 386695345.6174865,
        "iqr_ns": 15068.643249593268,
        "q1_ns": 7370.659700652301,
        "q3_ns": 22439.30295024557
      },
      "runq_latency_stats_ns": {
        "count": 91.0,
        "sum_ns": 1196763.035037879,
        "mean_ns": 13151.242143273395,
        "median_ns": 8916.917017842095,
        "min_ns": 831.0,
        "max_ns": 114524.0,
        "variance_ns2": 390887780.5502849,
        "iqr_ns": 15664.74418901691,
        "q1_ns": 2888.3602188223113,
        "q3_ns": 18553.104407839222
      },
      "first_seen_ts_ns": 1749746810080384160,
      "last_seen_ts_ns": 1749746824081764044,
      "duration_active_s": 14.001379884
    },
    {
      "tgid": 142,
      "comm": "flux-broker-0",
      "cgroup_id": 20420,
      "on_cpu_stats_ns": {
        "count": 21.0,
        "sum_ns": 476062.234848485,
        "mean_ns": 22669.630230880237,
        "median_ns": 10821.453449658797,
        "min_ns": 4483.40625,
        "max_ns": 274643.0,
        "variance_ns2": 3357114272.0751424,
        "iqr_ns": 10259.338398636699,
        "q1_ns": 5631.7537742055665,
        "q3_ns": 15891.092172842265
      },
      "runq_latency_stats_ns": {
        "count": 21.0,
        "sum_ns": 185275.58238636362,
        "mean_ns": 8822.64678030303,
        "median_ns": 6209.886915698405,
        "min_ns": 925.6666666666666,
        "max_ns": 34738.0,
        "variance_ns2": 100921456.85154188,
        "iqr_ns": 11703.240971123556,
        "q1_ns": 2431.6490805807516,
        "q3_ns": 14134.890051704308
      },
      "first_seen_ts_ns": 1749746810192388342,
      "last_seen_ts_ns": 1749746821500850240,
      "duration_active_s": 11.308461898
    },
    {
      "tgid": 360,
      "comm": "xhpcg",
      "cgroup_id": 20420,
      "on_cpu_stats_ns": {
        "count": 24.0,
        "sum_ns": 217023.19464285712,
        "mean_ns": 9042.633110119046,
        "median_ns": 7240.239900424129,
        "min_ns": 3546.0,
        "max_ns": 26811.2,
        "variance_ns2": 33079456.619218327,
        "iqr_ns": 8163.7884388876955,
        "q1_ns": 4198.793182152527,
        "q3_ns": 12362.581621040223
      },
      "runq_latency_stats_ns": {
        "count": 24.0,
        "sum_ns": 53833.74107142858,
        "mean_ns": 2243.0725446428573,
        "median_ns": 1356.2733864281251,
        "min_ns": 680.625,
        "max_ns": 5629.0,
        "variance_ns2": 3336482.2277378575,
        "iqr_ns": 2313.219011576867,
        "q1_ns": 1014.1340070518363,
        "q3_ns": 3327.3530186287035
      },
      "first_seen_ts_ns": 1749746811848482919,
      "last_seen_ts_ns": 1749746822633052586,
      "duration_active_s": 10.784569667
    },
    {
      "tgid": 331,
      "comm": "flux-job",
      "cgroup_id": 20420,
      "on_cpu_stats_ns": {
        "count": 4.0,
        "sum_ns": 128123.0,
        "mean_ns": 32030.75,
        "median_ns": 29262.0,
        "min_ns": 13986.0,
        "max_ns": 58731.0,
        "variance_ns2": 360278718.25,
        "iqr_ns": 32587.0,
        "q1_ns": 26144.0,
        "q3_ns": 58731.0
      },
      "runq_latency_stats_ns": {
        "count": 4.0,
        "sum_ns": 34636.0,
        "mean_ns": 8659.0,
        "median_ns": 8832.0,
        "min_ns": 2404.0,
        "max_ns": 18486.0,
        "variance_ns2": 49916636.00000001,
        "iqr_ns": 13572.0,
        "q1_ns": 4914.0,
        "q3_ns": 18486.0
      },
      "first_seen_ts_ns": 1749746810192388342,
      "last_seen_ts_ns": 1749746815856313291,
      "duration_active_s": 5.663924949
    },
    {
      "tgid": 30,
      "comm": "bash",
      "cgroup_id": 20280,
      "on_cpu_stats_ns": {
        "count": 4.0,
        "sum_ns": 34574.382352941175,
        "mean_ns": 8643.595588235294,
        "median_ns": 5986.0,
        "min_ns": 5740.0,
        "max_ns": 17055.0,
        "variance_ns2": 31456373.771842565,
        "iqr_ns": 11261.617647058823,
        "q1_ns": 5793.382352941177,
        "q3_ns": 17055.0
      },
      "runq_latency_stats_ns": {
        "count": 4.0,
        "sum_ns": 45303.85294117647,
        "mean_ns": 11325.963235294117,
        "median_ns": 10465.0,
        "min_ns": 1134.8529411764705,
        "max_ns": 28690.0,
        "variance_ns2": 148650213.1230536,
        "iqr_ns": 23676.0,
        "q1_ns": 5014.0,
        "q3_ns": 28690.0
      },
      "first_seen_ts_ns": 1749746810192388342,
      "last_seen_ts_ns": 1749746821500850240,
      "duration_active_s": 11.308461898
    }
  ]
}
[16:47:04] Cleanup complete. Exiting.
