unlimited
PROGRAM: cpu
Looking for /opt/programs/cpu/ebpf-collect.c
[17:50:36] Waiting for start indicator file: '/mnt/flux/start_ebpf_collection'.
[17:50:37] Start indicator found. Proceeding with monitoring.
[17:50:37] Initializing eBPF for CPU Scheduling monitoring...
[17:50:37] BPF C code compiled and loaded.
[17:50:37] Attached tracepoints.
[17:50:37] Monitoring CPU scheduling events (polling aggregated map)... Press Ctrl+C to stop.
[17:51:41] Stop indicator file '/mnt/flux/stop_ebpf_collection' found. Stopping.
[17:51:41] Initiating cleanup sequence...
{
  "final_aggregated_summary_river": [
    {
      "tgid": 201,
      "comm": "python3",
      "cgroup_id": 47577,
      "on_cpu_stats_ns": {
        "count": 316.0,
        "sum_ns": 10730309.493482614,
        "mean_ns": 33956.67561228675,
        "median_ns": 21531.62587892025,
        "min_ns": 3819.5,
        "max_ns": 316123.0,
        "variance_ns2": 1885469775.1554463,
        "iqr_ns": 30192.71355333174,
        "q1_ns": 12125.439957892691,
        "q3_ns": 42318.15351122443
      },
      "runq_latency_stats_ns": {
        "count": 316.0,
        "sum_ns": 7280061.540663998,
        "mean_ns": 23038.169432481005,
        "median_ns": 11141.150416959083,
        "min_ns": 942.9375,
        "max_ns": 3936110.5,
        "variance_ns2": 48865437280.63448,
        "iqr_ns": 12568.961270848284,
        "q1_ns": 3413.581594673203,
        "q3_ns": 15982.542865521487
      },
      "first_seen_ts_ns": 1749750637880252476,
      "last_seen_ts_ns": 1749750701027103931,
      "duration_active_s": 63.146851455
    },
    {
      "tgid": 265,
      "comm": "python3",
      "cgroup_id": 47647,
      "on_cpu_stats_ns": {
        "count": 342.0,
        "sum_ns": 9837918.871212117,
        "mean_ns": 28765.844652667012,
        "median_ns": 21402.68456045842,
        "min_ns": 3606.242424242424,
        "max_ns": 344977.0,
        "variance_ns2": 1547721546.9193072,
        "iqr_ns": 15083.416086212137,
        "q1_ns": 11240.811040604838,
        "q3_ns": 26324.227126816975
      },
      "runq_latency_stats_ns": {
        "count": 342.0,
        "sum_ns": 4042099.5558712105,
        "mean_ns": 11819.004549331024,
        "median_ns": 10537.759578196528,
        "min_ns": 951.90625,
        "max_ns": 284214.0,
        "variance_ns2": 279321610.4294011,
        "iqr_ns": 14902.96089933636,
        "q1_ns": 4525.182650728466,
        "q3_ns": 19428.143550064826
      },
      "first_seen_ts_ns": 1749750637991579962,
      "last_seen_ts_ns": 1749750701027103931,
      "duration_active_s": 63.035523969
    },
    {
      "tgid": 138,
      "comm": "flux-broker-0",
      "cgroup_id": 47717,
      "on_cpu_stats_ns": {
        "count": 74.0,
        "sum_ns": 1756126.7473819067,
        "mean_ns": 23731.442532187928,
        "median_ns": 20287.57288544431,
        "min_ns": 5147.53125,
        "max_ns": 138440.5,
        "variance_ns2": 497155551.1697909,
        "iqr_ns": 15865.881329924276,
        "q1_ns": 11808.299546527334,
        "q3_ns": 27674.18087645161
      },
      "runq_latency_stats_ns": {
        "count": 74.0,
        "sum_ns": 792324.5367647057,
        "mean_ns": 10707.088334658185,
        "median_ns": 10752.77013778552,
        "min_ns": 916.969696969697,
        "max_ns": 34868.0,
        "variance_ns2": 65403712.699962534,
        "iqr_ns": 14566.993302447936,
        "q1_ns": 2838.293072559457,
        "q3_ns": 17405.286375007392
      },
      "first_seen_ts_ns": 1749750637991579962,
      "last_seen_ts_ns": 1749750695514711346,
      "duration_active_s": 57.523131384
    },
    {
      "tgid": 348,
      "comm": "xhpcg",
      "cgroup_id": 47717,
      "on_cpu_stats_ns": {
        "count": 35.0,
        "sum_ns": 742110.0,
        "mean_ns": 21203.14285714286,
        "median_ns": 22558.889209724766,
        "min_ns": 11428.0,
        "max_ns": 33420.0,
        "variance_ns2": 21430051.596638665,
        "iqr_ns": 5465.18649512597,
        "q1_ns": 18361.274506675934,
        "q3_ns": 23826.461001801905
      },
      "runq_latency_stats_ns": {
        "count": 35.0,
        "sum_ns": 263460.0,
        "mean_ns": 7527.428571428572,
        "median_ns": 6482.554831045483,
        "min_ns": 1857.0,
        "max_ns": 18535.0,
        "variance_ns2": 15827593.781512603,
        "iqr_ns": 4268.681021744389,
        "q1_ns": 4831.93370425327,
        "q3_ns": 9100.614725997659
      },
      "first_seen_ts_ns": 1749750638648280924,
      "last_seen_ts_ns": 1749750657133526168,
      "duration_active_s": 18.485245244
    },
    {
      "tgid": 196,
      "comm": "bash",
      "cgroup_id": 47717,
      "on_cpu_stats_ns": {
        "count": 9.0,
        "sum_ns": 595972.5,
        "mean_ns": 66219.16666666667,
        "median_ns": 29133.0,
        "min_ns": 17602.0,
        "max_ns": 190400.0,
        "variance_ns2": 4084544477.375001,
        "iqr_ns": 66477.625,
        "q1_ns": 24997.833333333336,
        "q3_ns": 91475.45833333333
      },
      "runq_latency_stats_ns": {
        "count": 9.0,
        "sum_ns": 138297.0,
        "mean_ns": 15366.333333333332,
        "median_ns": 14648.666666666668,
        "min_ns": 2883.0,
        "max_ns": 33862.0,
        "variance_ns2": 137553197.5,
        "iqr_ns": 11799.833333333334,
        "q1_ns": 9140.166666666666,
        "q3_ns": 20940.0
      },
      "first_seen_ts_ns": 1749750637991579962,
      "last_seen_ts_ns": 1749750695006307115,
      "duration_active_s": 57.014727153
    },
    {
      "tgid": 359,
      "comm": "xhpcg",
      "cgroup_id": 47717,
      "on_cpu_stats_ns": {
        "count": 40.0,
        "sum_ns": 514084.6488095239,
        "mean_ns": 12852.116220238098,
        "median_ns": 13012.045423753641,
        "min_ns": 5815.875,
        "max_ns": 21600.0,
        "variance_ns2": 15393676.980876403,
        "iqr_ns": 6097.296549387802,
        "q1_ns": 9517.484981874448,
        "q3_ns": 15614.78153126225
      },
      "runq_latency_stats_ns": {
        "count": 40.0,
        "sum_ns": 206315.7023809524,
        "mean_ns": 5157.89255952381,
        "median_ns": 5154.095232696539,
        "min_ns": 1410.75,
        "max_ns": 8294.75,
        "variance_ns2": 3443826.000118011,
        "iqr_ns": 2544.0470305060935,
        "q1_ns": 3840.8605021435906,
        "q3_ns": 6384.907532649684
      },
      "first_seen_ts_ns": 1749750639637710864,
      "last_seen_ts_ns": 1749750653044562510,
      "duration_active_s": 13.406851646
    },
    {
      "tgid": 1,
      "comm": "pause",
      "cgroup_id": 47367,
      "on_cpu_stats_ns": {
        "count": 2.0,
        "sum_ns": 385487.0,
        "mean_ns": 192743.5,
        "median_ns": 195224.0,
        "min_ns": 190263.0,
        "max_ns": 195224.0,
        "variance_ns2": 12305760.5,
        "iqr_ns": 4961.0,
        "q1_ns": 190263.0,
        "q3_ns": 195224.0
      },
      "runq_latency_stats_ns": {
        "count": 2.0,
        "sum_ns": 10987.777777777777,
        "mean_ns": 5493.888888888889,
        "median_ns": 5760.0,
        "min_ns": 5227.777777777777,
        "max_ns": 5760.0,
        "variance_ns2": 141630.24691358046,
        "iqr_ns": 532.2222222222226,
        "q1_ns": 5227.777777777777,
        "q3_ns": 5760.0
      },
      "first_seen_ts_ns": 1749750678637784595,
      "last_seen_ts_ns": 1749750701027103931,
      "duration_active_s": 22.389319336
    },
    {
      "tgid": 31,
      "comm": "bash",
      "cgroup_id": 47577,
      "on_cpu_stats_ns": {
        "count": 5.0,
        "sum_ns": 277770.0,
        "mean_ns": 55554.0,
        "median_ns": 33346.0,
        "min_ns": 9351.0,
        "max_ns": 162031.0,
        "variance_ns2": 3759418405.5000005,
        "iqr_ns": 26378.0,
        "q1_ns": 23332.0,
        "q3_ns": 49710.0
      },
      "runq_latency_stats_ns": {
        "count": 5.0,
        "sum_ns": 52109.0,
        "mean_ns": 10421.8,
        "median_ns": 3219.0,
        "min_ns": 1474.0,
        "max_ns": 41908.0,
        "variance_ns2": 310515163.7,
        "iqr_ns": 1514.0,
        "q1_ns": 1997.0,
        "q3_ns": 3511.0
      },
      "first_seen_ts_ns": 1749750637991579962,
      "last_seen_ts_ns": 1749750677414628183,
      "duration_active_s": 39.423048221
    },
    {
      "tgid": 331,
      "comm": "flux-job",
      "cgroup_id": 47717,
      "on_cpu_stats_ns": {
        "count": 1.0,
        "sum_ns": 77573.0,
        "mean_ns": 77573.0,
        "median_ns": 77573.0,
        "min_ns": 77573.0,
        "max_ns": 77573.0,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 77573.0,
        "q3_ns": 77573.0
      },
      "runq_latency_stats_ns": {
        "count": 1.0,
        "sum_ns": 3665.0,
        "mean_ns": 3665.0,
        "median_ns": 3665.0,
        "min_ns": 3665.0,
        "max_ns": 3665.0,
        "variance_ns2": null,
        "iqr_ns": 0.0,
        "q1_ns": 3665.0,
        "q3_ns": 3665.0
      },
      "first_seen_ts_ns": 1749750638530489288,
      "last_seen_ts_ns": 1749750638530489288,
      "duration_active_s": 0
    }
  ]
}
[17:51:41] Cleanup complete. Exiting.
